<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MPM 207 Lab 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="lab2_files/libs/clipboard/clipboard.min.js"></script>
<script src="lab2_files/libs/quarto-html/quarto.js"></script>
<script src="lab2_files/libs/quarto-html/popper.min.js"></script>
<script src="lab2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="lab2_files/libs/quarto-html/anchor.min.js"></script>
<link href="lab2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lab2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="lab2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="lab2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="lab2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">MPM 207 Lab 2</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="objectives" class="level1">
<h1>OBJECTIVES</h1>
<ul>
<li>Develop critical and systematic thinking to conduct outbreak investigations</li>
<li>Identify the bias and limitations of the data obtained during an outbreak investigation</li>
<li>Use analytical methods to test hypothesis of the most likely sources of infection</li>
<li>Explore some R packages specific for epidemiology</li>
</ul>
</section>
<section id="instructions" class="level1">
<h1>INSTRUCTIONS</h1>
<ul>
<li>Follow the guidelines, do the exercises, and answer the questions. Remember to send the answers using a pdf file named “YOUR_LAST_NAME_LAB2.pdf” through CANVAS before 12:00pm, January 26th.</li>
<li>Do not hesitate to ask the TA/instructors if you have any question.</li>
</ul>
<p>Given the following key points (and the Table below) obtained during the interview with the farm owner respond the questions below. • A pig farm with aprox. 230 animals in the province of Nuoro (Sardinia, Italy). • A call has been received on October 12th, 2017, after observing clinical signs and unusual mortalities in several animals.</p>
<section id="key-points" class="level2">
<h2 class="anchored" data-anchor-id="key-points">Key points:</h2>
<ul>
<li><p>There is a lot of wild boar in the area.</p></li>
<li><p>Two new animals have been introduced during the last week coming from Poland. They are in the same box than the sick ones, but they appear to be healthy. The owner also brought semen from his cousin’s farm located in the Russian Federation 3 weeks ago.</p></li>
<li><p>The farm share pastures with other three neighbors that also have pigs.</p></li>
<li><p>The owner shares the boar with the neighbor farm.</p></li>
<li><p>There were no changes in feed or management during the last month: animals eat, as always, pasture, leftovers from the house and from the restaurant that the owner has and, pelleted feed (only for boars) as it is reflected in the following table (as provided by farmer):</p>
<p>Ate Did NOT eat Feed # Healthy # Sick # Healthy # Sick Pasture 177 1 34 18 Leftovers from the restaurant 48 11 163 8 Leftover from the house 24 7 187 12 Pelleted feed 8 0 203 19</p></li>
</ul>
</section>
</section>
<section id="questions" class="level1">
<h1>QUESTIONS</h1>
<p>NOTE: Provide the tables and/or figures to support your answers (e.g.&nbsp;by using the print screen key).</p>
<ol type="1">
<li><p>Briefly describe two frequent types of bias that may occur during your outbreak investigation (the following article may give you an idea of the typical bias associated with outbreak investigations and help you to support your answer: http://www.tandfonline.com/doi/pdf/10.1080/09603120120110013)</p></li>
<li><p>Use OIE-WAHIS database (https://wahis.oie.int/) to evaluate the sanitary status of Italy, Poland and Russian Federation regarding swine diseases from Jan, 1st 2016 to October 12th 2017. (TIP: use “Analytics”  “Disease situation”, then you can filter by country selecting Italy, Poland and Russian Federation, by animal group “swine” and year). Is there any disease that you may suspect to be present or have been introduced into Sardinia coming from Poland or Russian Federation? Provide the table with the disease status in those countries for 2016 and 2017 (e.g.&nbsp;the easiest is to export the data to excel and use the pivot table function to summarize the information you got by country, disease and semester).</p></li>
<li><p>Considering the information contained in the table provided by the owner (above), which type of study design you may use to examine the potential association between the different types of feed and disease? Justify your answer.</p></li>
<li><p>Given your answer in question 3, use WinEpi (http://www.winepi.net/uk/index.htm) to calculate the adequate measure of association between the different types of feed and disease. [TIP: use the Observational studies option under the “Risk estimation” section with a 95% confidence level]. Make sure to provide the screenshot of the 4 computed result screens. Are the results valid?, justify your answer. Give an interpretation of the correspondent measures of strength of the association for the results related with pasture and leftovers from the restaurant.</p></li>
<li><p>Now, do the same than question 4 but using RStudio (or just R-language if preferred). I recommend you to read this short introduction (if you did not read it yet) to R and RStudio before start working with the program: https://cran.r-project.org/doc/contrib/Torfs+Brauer-Short-R-Intro.pdf (if you are interested to know more, you can read this more complete manual at home: http://cran.r-project.org/doc/manuals/R-intro.html. Remember to provide a screenshot of your code and all your tables. Give an interpretation of all the measures of strength of the association and measures of effect and total effect that you obtained related with leftovers from the house [TIP: use the following code as an example, and the help() function in R as needed, to conduct the analysis and support your interpretations]. Get familiar with all the functions that you are using to better track and understand what you are doing, use the help() function [e.g.&nbsp;help(matrix)] to explore all functions you don’t know.</p></li>
</ol>
<p>install.packages(“epiR”) library(epiR) t1&lt;-as.table(matrix(c(11,48,8,163), nrow = 2, byrow=TRUE)) res1&lt;-epi.2by2(dat=t1,method=“case.control”,conf.level=0.95, units=100) print(res1) summary(res1) help(epi.2by2)</p>
<ol start="6" type="1">
<li>Given all the information obtained so far and the analyses conducted in the previous questions what would you conclude that is the most likely source(s) of infection in this outbreak?. Justify your answer with 3-4 sentences.</li>
</ol>
<p>Remember to send the lab assignment before 12:00pm, January 26th</p>
<p>install.packages(“epiR”) library(epiR)</p>
<p>t1&lt;-as.table(matrix(c(18,34,1,177), nrow = 2, byrow=TRUE)) res1&lt;-epi.2by2(dat=t1,method=“case.control”,conf.level=0.95, units=100, homogeneity=“breslow.day”) print(res1) summary(res1) help(epi.2by2)</p>
<p>t11&lt;-as.table(matrix(c(1,177,18,34), nrow = 2, byrow=TRUE)) res11&lt;-epi.2by2(dat=t11,method=“case.control”,conf.level=0.95, units=100, homogeneity=“breslow.day”) print(res11) summary(res11)</p>
<p>t2&lt;-as.table(matrix(c(11,48,8,163), nrow = 2, byrow=TRUE)) res2&lt;-epi.2by2(dat=t2,method=“case.control”,conf.level=0.95, units=100, homogeneity=“breslow.day”) print(res2) summary(res2)</p>
<p>t3&lt;-as.table(matrix(c(7,24,12,187), nrow = 2, byrow=TRUE)) res3&lt;-epi.2by2(dat=t3,method=“case.control”,conf.level=0.95, units=100, homogeneity=“breslow.day”) print(res3) summary(res3)</p>
<p>t4&lt;-as.table(matrix(c(19,203,0,8), nrow = 2, byrow=TRUE)) res4&lt;-epi.2by2(dat=t4,method=“case.control”,conf.level=0.95, units=100, homogeneity=“breslow.day”) print(res4) summary(res4)</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>